Execute (initialize stats):
  let maxplaythroughs = 30
  let maxturns = 400
  let testutils = vimcastle#testutils#create()

Execute (play once):
  let stats = testutils.playgame(maxturns)

Then (the game completes):
  for log in stats.log 
    Log log
  endfor

Execute (play multiple times):
  let stats = testutils.playgames(maxplaythroughs, maxturns)

Then (the game completes):
  Log 'average turns/game: ' . stats.avgturns . ' in ' . maxplaythroughs
  Log 'average level: ' . stats.avglevels
  Log 'playthroughs: ' . string(stats.playthroughsturns)
  if(!$CI)
    Assert stats.avgturns > 20 && stats.avgturns < 200, 'Too few/many turns'
  endif
