Execute (setup):
  let state = vimcastle#state#create()
  call state.enter('menu')

Then (has actions):
  AssertEqual [{'label': 'New Game', 'key': 'n'}, {'label': 'Help', 'key': 'h'}, {'label': 'Quit', 'key': 'q'}], state.actions().display

Execute (new game):
  call state.actions().invokeByKey('n', state)

Then (enters main story):
  AssertEqual 'main', state.scene.story
